总体方向（不改顶部布局，只做配色 + 卡片信息 + 插图 + 悬停操作）
依据你给的 md 文件，将“企业后台感”→“知识工作室感”，核心是：弱化深蓝面积，强调柔和银灰底 + 纸感白卡 + 轻线条 + 少量点缀蓝。并为每个 Library 卡片提供“它是知识容器”信号：数量、最近使用、点击频率、插图。

配色与视觉规范（先调 3 处）
页面背景：#F5F7FA（加入雾感），写入 tokens：--color-bg-app.
Library 卡片：背景白 #FFFFFF + 边线 #E2E8F0 (tokens: --color-border-soft) + 极轻阴影：0 1px 3px rgba(0,0,0,0.06) hover 时加一层 0 4px 12px rgba(0,0,0,0.08) 与微移 translateY(-2px).
蓝色使用收缩：保留 Logo / 主按钮 / 当前视图按钮边框；Grid/List 图标改“白底 + 蓝边/蓝线条”或“灰底+蓝描边”状态。
辅助色：

浅天蓝点缀：#DCEEFF（hover 背景淡染 / 小圆点 / icon 背板）
文本主色：深灰蓝 #1F2937；次级说明：#4B5563; 避免纯黑。
Library 卡片信息结构（含占位策略）
卡片上半部分：插图（可选，16:9 或 3:1 裁剪）
下半部分（文字区）：

行 1：名称 (可加一个 16px 线性“书架/书堆”icon) + 可选 pin/favorite 占位
行 2：简短描述（截断到 1 行，超出省略号）
行 3：指标行（使用灰小字 + lucide 微图标）
格式示例：📚 4 橱 · 📖 23 书 · ⏱ 最近使用 2 天前 · 👆 点击 48
行 4：创建日期（或最后更新日期优先，如果未来可取）
暂时无真实统计 → 占位策略：

Bookshelves / Books：后端若暂无聚合，用前端并行请求 bookshelves / books 计数；请求失败显示 “–”.
最近使用：localStorage 记录每次进入该库详情的时间戳，差值→天数。
点击次数：localStorage 计数（以后迁移 Stats）。
占位样式：不可用时条目淡化（opacity 0.5）。
插图（封面）策略
阶段性实现，避免过度耦合：

P0（占位）：纯色背景 + 名称首字母哈希生成柔和渐变（如 linear-gradient(135deg,#EEF3FF,#DCEEFF)）。
P1（图片上传）：利用现有 Media 模块，约定一条 POST /media 上传后返回 media_id，在前端维护 libraryCoverMap[libraryId]=media_id（暂存 localStorage）。
P2（持久化）：未来在 Library 聚合增加 cover_media_id 字段或旁路表（不破坏现有 Domain 设计，归类为 HTTP 层扩展）。
加载失败回退：退回到哈希渐变占位。
尺寸与裁剪：

封面区域高度约 120px（与截图 3 书卡保持一致感）；
object-fit: cover；支持宽屏/高图裁剪中心。
悬停操作区（右上角浮层）
行为：鼠标进入卡片整个区域后 80ms 延迟淡入操作层
操作项（暂定两个）：

“更换封面” (Image icon) → 打开上传 / 选择已有 Media 弹窗；成功后更新映射。
“删除” (Trash icon，占位) → 目前仅提示 “尚未真正删除 (占位功能)”；不发真实请求。
交互与可访问性：

操作层绝对定位于封面右上，背景半透明白或浅灰，圆角 6px。
按钮点击范围 ≥32px；Tab 进入时也显示操作层。
Tooltip：Image “更换封面”，Trash “删除（占位）”。
未来扩展位（预留不显示）：pin / favorite / settings（三个点菜单）。

软删除占位说明
当前删除按钮仅演示，不调用后端：

点击后触发 toast：“功能占位：尚未实现真实删除”
不修改列表数据；不混淆 Basement 概念。
分阶段实施计划
P0（当日）

新增/修改 tokens：背景、卡片边线、浅天蓝、阴影变量。
调整 Libraries 页面 body 背景 + 卡片结构包装（增加封面容器）。
替换 Grid/List 图标样式为线框模式。
加入卡片数据行的静态占位（名称 + 创建日期 + 占位指标文本）。
localStorage 计数与最近使用时间写入/读取逻辑。
P1（插图与操作层）

哈希渐变占位生成函数（名称→色对）。
悬停浮层容器 + 两个图标按钮（lucide Image, Trash） + 动画。
媒体上传对话框最简（调用现有 Media upload，返回 media_id，前端映射）。
映射保存 localStorage; 列表初次渲染时读取并加载封面 URL（通过已有 media 获取端点或临时直链接）。
P2（数据真实化 & 性能）

后端补 Bookshelves/Books count 聚合（或并行请求合并 Promise.all）。
暂用简单批量请求→超时≥3s时降级展示“–”。
引入点击事件上报（未来 Stats 接入改为后端记录）。
P3（体验与无障碍）

键盘焦点顺序（封面→名称→操作层）。
ARIA labels，空值回退。
可在操作层增加快捷键（例如：上传封面 Ctrl+U）。
P4（持久化 & 统一接口）

讨论是否在 Library DTO 增加 cover_media_id；若增加需 ADR 记录 Domain 不受侵染策略（字段归类为传输层扩展，不参与业务不变式）。

关键注意点
不改当前 Hero Row 布局；仅视觉与卡片层内容丰富化。
暂不引入 Stats 模块真实端点，全部指标允许“占位 + 灰显”。
不提前创建多余后端字段，避免影响已有 DDD 聚合纯度。
插图失败不影响其余指标渲染（封面单独 try/catch 或 fallback）。
验收标准（阶段性）
P0 完成后：

页面背景与卡片对比明显（肉眼可区分层次）
卡片显示 1 行占位指标（静态或局部假数据）
hover 出现操作层（即便无封面）
P1 完成后：

每张卡片有哈希渐变占位封面
上传后立即替换封面，不刷新整页
删除图标点击仅弹 toast 不报错
请确认该计划，确认后我再进入“agent模式”逐步实施。 回复“确认 P0”即可开始第一阶段。

