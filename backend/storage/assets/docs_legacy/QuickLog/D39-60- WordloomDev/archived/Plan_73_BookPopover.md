你可以把中间这个 … 当成「书的局部菜单触发器」，设计成一个小 popover 面板，而不是再来一圈 icon 雨。

1. 弹出后大致长什么样？

建议样式：窄竖直菜单 + 分组 + 图标 + 文本

大概这样（伪草图）：

        ┌───────────────┐
        │ 📖 打开（新标签页）│
        │ ✏️ 重命名        │
        │ 🏷️ 编辑标签      │
        │ 📌 置顶 / 取消置顶 │
        ├───────────────┤
        │ 📂 移动到…      │
        │ 🧬 复制一份      │
        ├───────────────┤
        │ 📥 移入归档      │
        │ 🗑 删除（红字）   │
        └───────────────┘


位置：贴着那条底部工具条的上方，居中对齐或略微偏右。

宽度：和书封差不多宽 or 稍窄，看起来像这本书自己的小菜单。

背景：白色 + 轻阴影 + 8px 圆角。

每一行都是 “icon + 文本”，高度 28–32px，点击范围足够大。

2. 功能怎么分组更舒服？

遵守一个原则：
高频在上面，破坏性的在最下面并分隔出来。

你现在 Book 层可用的动作，大概可以归成 3 组：

组 1：日常操作（最上）

打开新标签页（如果有这种需求，不是必需）

重命名

编辑标签（和你右上 tag pill 打开的其实同一套 UI）

置顶 / 取消置顶

这些是“我经常要碰这本书”的操作。

组 2：结构调整（中间）

移动到其他 Bookshelf / Library

复制一份（Duplicate）

属于偶尔要用、但不是每天点的东西。

组 3：生命周期 / 危险操作（最下）

移入归档（Legacy / Archive）

这里可以不弹二次确认，只在归档列表里支持恢复。

删除

文案用红色 + 单独一行，

点击后再弹一个确认对话框（带书名）。

这样用户一眼扫下去就知道：
上面是日常小改动，中间是“结构调整”，最后是“生死大事”。

3. 和底部那三个 icon 怎么配合？

你现在底下一排 3 个圆按钮：

左：快速操作 A（比如“查看详情”“打开”或“编辑基本信息”）

中：… 菜单触发器

右：快速操作 B（比如“pin”）

那 … 的逻辑可以是：

点击后：

展开 popover 菜单；

其他书的 hover 遮罩全部隐藏；

再次点 … 或点击菜单外区域 → 收起。

popover 内的项其实就是把“不适合堆在底部的动作”都塞进去。

你可以保证底部最多只留 2–3 个“极高频”的操作，

其他都走 …。

4. 低噪音小细节

非 hover 时，不显示底部三按钮，也当然没有菜单；

… 按钮在 hover 时保持简洁：小圆+三个点即可，不要做太夸张的渐变；

菜单弹出时，可以给书卡加一点轻微高亮（比如边框颜色加深），
暗示“现在正在操作这本”。

总结一句话：

让那三个底部 icon 解决“我平时一伸手就想按的东西”，
让中间 … 打开的窄菜单，像一个 「书后面折起来的说明页」，
把归档 / 删除这种重动作悄悄收在里面，不破坏你当前这个干净的展柜。

## 快速中文执行清单（2025-11-26）

- [x] 缩小底部三个基础 icon 的尺寸与间距，保证 hover 时三枚完整露出。
- [x] 为中间按钮加入 `...` popover 框架，菜单含高频 / 结构调整 / 危险操作三组。
- [ ] “移动到…” 暂保留按钮与文案，占位提示“即将上线”，不接后端逻辑。
- [ ] 复制 / 归档 / 删除等操作后续补充二次确认或调用对应 API，目前仅挂钩可用回调。
- [ ] QA：验证 hover 时只保留一个 popover 打开；键盘 Esc / 点击外部可关闭；移动与删除操作待补完实现。
- [ ] Modal.tsx：新增 closeOnBackdrop、showCloseButton、lockScroll 三个参数，默认保持原行为；在需要时可禁用遮罩点击/右上角关闭，并在弹窗打开时锁定 body 滚动以避免背景误触。
- [ ] BookEditDialog.tsx、BookshelfTagEditDialog.tsx、LibraryForm.tsx：统一把编辑弹窗设置为 closeOnBackdrop={false}、showCloseButton={false}、lockScroll，这样只有底部的“取消”按钮会触发关闭，同时弹窗开启时背景不可滚/不可点，操作更稳定。