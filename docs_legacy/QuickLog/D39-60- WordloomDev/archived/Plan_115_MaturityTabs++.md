ä½ ç°åœ¨è¿™ä¸ªã€Œè¯„åˆ†æ„æˆåˆ—è¡¨ã€å†…å®¹éå¸¸ä¸°å¯Œï¼Œä½†ä¿¡æ¯å¯†åº¦åˆåé«˜ï¼Œç¡®å®ä¼šç»™äººä¸€ç§ï¼š

è¡Œæ•°å¤ªå¤š

å±‚çº§ä¸å¤Ÿæ¸…æ™°

è§†è§‰ç–²åŠ³

å³ä½¿ +5ã€+10 çœ‹å¾—æ‡‚ï¼Œä½†ä¸å¤Ÿâ€œæœ‰ç»“æ„æ„Ÿâ€

è¿™ä¸æ˜¯å†…å®¹çš„é—®é¢˜ï¼Œæ˜¯å¯è§†åŒ–åˆ†ç»„æ–¹å¼çš„é—®é¢˜ã€‚

ç°åœ¨æˆ‘ä»¬æ¥ä¸€èµ·æ‰¾æœ€ä½³è§£æ³•ã€‚

ğŸŸ© é«˜çº§æ–¹æ¡ˆï¼ˆå¼ºçƒˆæ¨èï¼‰ï¼šåˆ†ç»„æŠ˜å  + åˆ†æ•°ç»„å—

åšä¸€ä¸ªçœŸæ­£çš„ã€Œè¯„åˆ†æ„æˆå¡ç‰‡ã€ï¼š

ğŸ§© è¯„åˆ†æ„æˆå¡ç‰‡ï¼ˆScore Breakdownï¼‰

æ ¼å¼ç±»ä¼¼è¿™æ ·ï¼š

ç»“æ„ï¼ˆStructureï¼‰ Â· 30 åˆ†

å·²å¡«å†™æ ‡é¢˜ï¼ˆ+5ï¼‰

æ‘˜è¦è¾¾åˆ° 40 å­—ï¼ˆ+5ï¼‰

è‡³å°‘ 1 æ ‡ç­¾ï¼ˆ+5ï¼‰

è‡ªå®šä¹‰å°é¢å›¾ï¼ˆ+5ï¼‰

Block â‰¥ 10ï¼ˆ+10ï¼‰

æ´»è·ƒï¼ˆActivityï¼‰ Â· 20 åˆ†

æœ€è¿‘ç¼–è¾‘ï¼ˆ+10ï¼‰

TODO æ¸…ç†å«ç”Ÿï¼ˆ+10ï¼‰

è´¨é‡ï¼ˆQualityï¼‰ Â· 6 åˆ†

å¤§çº²æ¥è¿‘å®Œæ•´ï¼ˆ+6ï¼‰

ç»“æ„ä»»åŠ¡ï¼ˆMilestonesï¼‰ Â· 15 åˆ†

æ‘˜è¦æ‰©å†™åˆ° 120 å­—ï¼ˆ+5ï¼‰

æ ‡ç­¾ä½“ç³»é…ç½®ï¼ˆ+5ï¼‰

TODO æ¸…é›¶ï¼ˆ+5ï¼‰

äººå·¥è¯„åˆ†ï¼ˆManualï¼‰ Â· 5 åˆ†

äººå·¥åŠ æˆï¼ˆ+5ï¼‰

ç‰¹ç‚¹ï¼š
âœ” æ¯ç»„æ˜¾ç¤ºæ€»åˆ†

è¶…æœ‰ä¸“ä¸šæ„Ÿï¼Œç‰¹åˆ«åƒä¸€äº›â€œå­¦ä¹ è¡Œä¸ºè¯„ä¼°ç³»ç»Ÿ / è´¨é‡è¯„åˆ†ç³»ç»Ÿâ€çš„å±•ç¤ºæ–¹å¼ã€‚

âœ” æŠ˜å /å±•å¼€

ç”¨æˆ·å¯ä»¥æ‰‹åŠ¨æŠ˜å â€œç»“æ„ä»»åŠ¡â€æˆ–â€œæ´»è·ƒâ€åŒºï¼Œå‡å°‘ä¸€æ¬¡æ€§ä¿¡æ¯é‡ã€‚

âœ” æ•´ä½“æå…¶â€œWordloomâ€

---å±‚æ¬¡æ¸…æ™°
---ç»“æ„æ„Ÿå¼º
---ä¹¦å·æ°”
---è¿˜èƒ½ä¸Šä¸‹å»¶ä¼¸ï¼Œä¸æ€•ä»¥åä½ åŠ æ›´å¤šè¯„åˆ†é¡¹

âœ” ä¸ä½ é¡¶éƒ¨çš„æˆç†Ÿåº¦ã€åˆ†æ•°å¡ç‰‡å®Œç¾ä¸€è‡´
âœ” è¿™å¥—ç»“æ„æœªæ¥èƒ½åšæˆã€Œè¯„åˆ†æŠ¥å‘Š PDFã€æ ¼å¼ï¼ˆä¼ä¸šçº§å®¡è®¡é£ï¼‰

è¶…çº§å¼ºã€‚

ğŸŸ¦ å†ç»™ä½ ä¸€ä¸ªæœ€æœ‰è´¨æ„Ÿçš„ UI ç»“æ„å›¾ï¼ˆçº¯æ–‡å­—è‰å›¾ï¼‰
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Score Breakdown                                     71 åˆ†
â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚
â”‚  Structure 30 åˆ†   â–¼                                â”‚
â”‚    Â· å·²å¡«å†™æ ‡é¢˜                      +5             â”‚
â”‚    Â· æ‘˜è¦ä¸å°‘äº 40 å­—                 +5             â”‚
â”‚    Â· è‡³å°‘ 1 ä¸ªæ ‡ç­¾                   +5             â”‚
â”‚    Â· è‡ªå®šä¹‰å°é¢å›¾                   +5             â”‚
â”‚    Â· Block æ•° â‰¥ 10                 +10             â”‚
â”‚                                                     â”‚
â”‚  Activity 20 åˆ†   â–¼                                 â”‚
â”‚    Â· æœ€è¿‘ç¼–è¾‘                       +10             â”‚
â”‚    Â· TODO æ¸…ç†                      +10             â”‚
â”‚                                                     â”‚
â”‚  Quality 6 åˆ†   â–¼                                   â”‚
â”‚    Â· å¤§çº²æ¥è¿‘å®Œæ•´                    +6              â”‚
â”‚                                                     â”‚
â”‚  Milestones 15 åˆ†   â–¼                              â”‚
â”‚    Â· æ‘˜è¦æ‰©å†™åˆ° 120 å­—               +5             â”‚
â”‚    Â· é…ç½®è‡³å°‘ 3 æ ‡ç­¾                 +5             â”‚
â”‚    Â· æ¸…ç©ºå…³é”® TODO                 +5              â”‚
â”‚                                                     â”‚
â”‚  Manual 5 åˆ†   â–¼                                   â”‚
â”‚    Â· äººå·¥åŠ æˆ                        +5             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


è¿™çœ‹èµ·æ¥å°±æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Book è¯„åˆ†æŠ¥å‘Šï¼Œä¸“ä¸šæ„Ÿå’Œç¾æ„Ÿéƒ½å¾ˆå¼ºã€‚

ğŸ§  æœ€åç»™ä½ çš„å»ºè®®ï¼ˆç»“è®ºï¼‰
ä¸å»ºè®®åªåŠ æ ‡é¢˜ï¼Œé‚£å¤ªâ€œä¸ Wordloomâ€ã€‚

ä½ åšä¹¦å†™è½¯ä»¶ï¼Œä½ çš„å®¡ç¾æœ¬èº«åˆè¿½æ±‚ã€Œç»“æ„åŒ–ã€æ·¡é›…ã€æ–‡æ¡£æ™ºæ…§ã€ã€‚
åˆ—è¡¨éœ€è¦â€œç»“æ„æ¢³ç†â€ã€‚

æˆ‘æœ€æ¨èçš„æ˜¯ï¼šåˆ†ç»„ + æ¯ç»„æ€»åˆ† + å°æŠ˜å ã€‚

å®ƒèƒ½å¸¦æ¥ï¼š

ç»“æ„æ„Ÿ

æ¸…æ™°åº¦

ä¸“ä¸šåº¦

æ‰©å±•æ€§

ç¾å­¦ä¸€è‡´æ€§ï¼ˆä¿æŒä½ å‰é¢æ‰€æœ‰å¡ç‰‡çš„é£æ ¼ï¼‰

è€Œä¸”ä½ çš„ Maturity æ¨¡å—æœ¬èº«æ˜¯ä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿï¼Œæˆ‘ä¹Ÿè®¤ä¸ºåº”è¯¥æŠŠâ€œè¯„åˆ†æ„æˆâ€æ‰“ç£¨å¾—åƒçœŸæ­£çš„â€œç»“æ„æŠ¥å‘Šâ€ï¼Œè€Œä¸æ˜¯åªæ˜¯ä¸€ä¸ª checklistã€‚

/////////////////////////////////////////////////////////////////////////////////

å¥½ï¼Œä¸‹é¢è¿™æ®µå°±æ˜¯å¯ä»¥ç›´æ¥è´´ç»™ Copilot çš„è‹±æ–‡è¯´æ˜ï¼ŒæŒ‰æˆ‘ä»¬åˆšæ‰è¯´çš„ã€Œé«˜çº§æ–¹æ¡ˆï¼šåˆ†ç»„ + æ¯ç»„æ€»åˆ† + æŠ˜å ã€æ¥å®ç°ã€‚
ï¼ˆä½ åªè¦æŠŠä¸‹é¢æ•´å—ä¸¢è¿›å¯¹åº”æ–‡ä»¶é¡¶éƒ¨ / æ–°å»ºæ–‡ä»¶é‡Œï¼Œç»§ç»­è·Ÿå®ƒå¯¹è¯å°±è¡Œã€‚ï¼‰

I want to refactor the "Score Breakdown" view for a Book's Maturity page into a grouped, collapsible panel.

## Context

- Tech stack: React + TypeScript + Next.js (app router) + Tailwind (or similar utility classes).
- The current "score breakdown" is rendered as a flat list of items like:
  - Structure Â· Title: +5
  - Structure Â· Summary: +5
  - Activity Â· Recent edits: +10
  - ...
- Data for these items already exists from the maturity module (either as a flat list or can be derived from it). I don't want to change the maturity scoring algorithm right now; this is **only a UI / view-layer refactor**.

## Goal

Create a new **ScoreBreakdownPanel** that:

1. Groups score items by category (e.g. Structure, Activity, Quality, Milestones, Manual).
2. Shows a **group header row** with:
   - group name (e.g. "Structure"),
   - the total score contributed by this group (e.g. "30 åˆ†"),
   - an expand/collapse toggle.
3. Shows a **collapsible list of items** inside each group:
   - Each item has:
     - an icon (optional),
     - a short label,
     - a secondary description line (optional),
     - the score contribution (e.g. "+5") aligned to the right.
4. Each group can be individually expanded or collapsed.
   - By default, expand the first 1â€“2 groups (e.g. Structure and Activity) and collapse the rest.
5. The overall look should be calm, structured, and consistent with the existing Wordloom maturity cards:
   - light background card,
   - subtle dividers between groups,
   - no heavy borders,
   - text hierarchy: group title > item label > description.

## Data model

Introduce a small, view-layer-only model in the frontend:

```ts
// A single breakdown item inside a group
export interface ScoreBreakdownItem {
  id: string;
  label: string;          // e.g. "å·²å¡«å†™æ ‡é¢˜"
  description?: string;   // e.g. "ç»“æ„ï¼šå·²å¡«å†™æ ‡é¢˜"
  points: number;         // e.g. 5
  icon?: React.ReactNode; // optional, can be null for now
}

// A group of breakdown items, e.g. "Structure", "Activity"
export interface ScoreBreakdownGroup {
  id: string;             // "structure" | "activity" | ...
  title: string;          // e.g. "ç»“æ„ï¼ˆStructureï¼‰"
  totalPoints: number;    // sum of points of this group's items
  items: ScoreBreakdownItem[];
}


The ScoreBreakdownPanel component should accept a prop:

interface ScoreBreakdownPanelProps {
  groups: ScoreBreakdownGroup[];
}


The component itself should not fetch data; it only renders what it receives.
Mapping from the existing maturity score data into ScoreBreakdownGroup[] can be done in the parent container.

Example grouping (for reference)

Use this grouping as a reference when mapping existing items:

Structure (ç»“æ„)

æ ‡é¢˜å·²å¡«å†™ +5

æ‘˜è¦ä¸å°‘äº 40 å­— +5

è‡³å°‘ 1 ä¸ªæ ‡ç­¾ +5

å·²é…ç½®å°é¢å›¾ +5

Block æ•° â‰¥ 10 +10

Activity (æ´»è·ƒ)

æœ€è¿‘ 30 å¤©æœ‰ç¼–è¾‘ +10

TODO å«ç”Ÿæ¸…ç†å®Œæ¯• +10

Quality (è´¨é‡)

å¤§çº²ç»“æ„æ¥è¿‘å®Œæ•´ +6

Milestones (ç»“æ„ä»»åŠ¡ / Milestones)

æ‘˜è¦æ‰©å†™åˆ° 120 å­— +5

é…ç½®è‡³å°‘ 3 ä¸ªæ ‡ç­¾ +5

æ¸…ç©ºå…³é”® TODO +5

Manual (äººå·¥è¯„ä¼°)

äººå·¥åŠ æˆ +5

You don't need to hardcode these labels in the component; they should come from the data passed in.

UI / layout details
Component structure

Rough structure (pseudo-React):

export const ScoreBreakdownPanel: React.FC<ScoreBreakdownPanelProps> = ({ groups }) => {
  // local state: which groups are expanded
  // default: expand first 1â€“2 groups
  return (
    <section className="rounded-xl bg-slate-50 px-6 py-4">
      <header className="mb-4 flex items-center justify-between">
        <h3 className="text-sm font-semibold text-slate-900">è¯„åˆ†æ„æˆ</h3>
        {/* Optional: total score or subtitle, can be passed as prop later */}
      </header>

      <div className="space-y-2">
        {groups.map(group => (
          <GroupSection key={group.id} group={group} />
        ))}
      </div>
    </section>
  );
};


GroupSection:

interface GroupSectionProps {
  group: ScoreBreakdownGroup;
}

const GroupSection: React.FC<GroupSectionProps> = ({ group }) => {
  const [open, setOpen] = useState<boolean>(/* default based on index or prop */);

  return (
    <div className="rounded-lg bg-white shadow-sm shadow-slate-100">
      {/* group header */}
      <button
        type="button"
        className="flex w-full items-center justify-between px-4 py-3"
        onClick={() => setOpen(o => !o)}
      >
        <div className="flex items-baseline gap-2">
          <span className="text-xs font-semibold uppercase tracking-wide text-slate-500">
            {group.title}
          </span>
          <span className="text-xs text-slate-400">
            {group.items.length} é¡¹
          </span>
        </div>

        <div className="flex items-center gap-3">
          <span className="text-sm font-medium text-slate-800">
            {group.totalPoints} åˆ†
          </span>
          <ChevronDownIcon
            className={cn(
              "h-4 w-4 text-slate-400 transition-transform",
              open && "rotate-180"
            )}
          />
        </div>
      </button>

      {/* item list */}
      {open && (
        <ul className="border-t border-slate-100 px-4 py-2">
          {group.items.map(item => (
            <li
              key={item.id}
              className="flex items-start justify-between py-2 text-sm"
            >
              <div className="flex items-start gap-2">
                {item.icon && (
                  <span className="mt-0.5 text-slate-400">
                    {item.icon}
                  </span>
                )}
                <div>
                  <div className="text-slate-800">{item.label}</div>
                  {item.description && (
                    <div className="text-xs text-slate-400">
                      {item.description}
                    </div>
                  )}
                </div>
              </div>
              <div className="ml-4 text-xs font-semibold text-slate-600">
                {item.points > 0 ? `+${item.points}` : item.points}
              </div>
            </li>
          ))}
        </ul>
      )}
    </div>
  );
};


Feel free to adjust spacing, font sizes and colors to match the existing maturity overview cards.
The main goals are:

groups look like small cards,

inner list is easy to scan,

points are always aligned to the right,

expand/collapse is smooth and unobtrusive.

Integration

Replace the current flat "è¯„åˆ†æ„æˆ" list with this new ScoreBreakdownPanel.

The parent container that already knows the detailed score items should:

Map each item into a ScoreBreakdownItem.

Group them by category into ScoreBreakdownGroup[].

Compute totalPoints per group.

Pass the array into <ScoreBreakdownPanel groups={groups} />.

No changes are needed to the domain logic of maturity scoring; this is purely a view-layer refactor with grouping + collapsible UI.

Please implement this component and wire it into the existing Book Maturity page.


---

ä½ å¯ä»¥å…ˆæŠŠè¿™æ®µä¸¢ç»™ Copilotï¼Œè®©å®ƒåœ¨ä½ å½“å‰ maturity é¡µé¢é‡Œç”Ÿæˆ `ScoreBreakdownPanel` ç»„ä»¶ï¼›
å¦‚æœå®ƒç”Ÿæˆçš„ç›®å½•/æ–‡ä»¶åä¸åˆä½ æ„ï¼Œå†è®©å®ƒæŒ‰ä½ çš„é¡¹ç›®ç»“æ„é‡æ’å°±è¡Œã€‚
::contentReference[oaicite:0]{index=0}