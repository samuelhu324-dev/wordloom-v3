这个「时间线」其实就是给 Book 做一条“生命记录 / 审计轨迹” 用的，不是摆设。

你可以把一册 Book 想象成一个项目或者案卷：
时间线就是这册书从出生到现在，发生过哪些「关键动作」。

1. 时间线应该显示什么？

先看你现在写在界面上的说明：

最近的书籍生命周期事件
✅ 显示访问日志

这其实已经点题了：分两类东西——生命周期事件 和 访问事件。

1）生命周期事件（核心）

这些是“这个 Book 被怎么动过”的记录，典型包括：

创建

2025-11-26 15:18 创建 Book：DailyLog

阶段变化（Seed / Growing / Stable / Legacy）

2025-12-01 09:12 阶段从 Seed → Growing（原因：已完成基础结构）

状态变化

Active / Paused / Archived

2025-12-10 18:20 状态从 Active → Archived

结构相关的变更

变更所属 bookshelf / library

被 Pin / 取消 Pin

标签大改动（比如一次性加了 5 个 tag）

重要配置调整

开启 / 关闭风控备注、TODO 联动、某些自动化之类的开关

「审查通过」「评审完成」这类关键节点（以后你给 Book 加 workflow 的时候）

这些就是“书的命运转折点”。
不是 每次编辑一个段落都记——那会变成 git log，而不是 timeline。

2）访问事件（可选勾选）

你右上角那个「显示访问日志」的勾选框，就是第二层：

谁在什么时间打开过这个 Book；

可以做聚合，比如：

今天被打开 3 次，上次访问：2025-11-27 13:05 by Samuel

如果以后有协作，多用户的话，可以看到：

2025-11-27 10:23 User A 浏览 Book

2025-11-27 11:45 User B 浏览 Book

默认可以 不显示访问日志，避免太吵；
只有勾选后，把这些「阅读行为」也一起混入时间线里。

2. 和其他 Tab 的区别是什么？

块编辑：是“内容本身”——你写了什么；

TODO / Chronicle（将来）：是“围绕这本书的任务和记录”；

时间线：是“这本书本身经历了什么状态变化”。

一句话：

时间线是 Book 作为一个对象的历史，
不是书里内容的 revision，也不是日记。

3. 最小可落地版本（你现在就能做的）

为了不把自己累死，可以先做一个 v1 版本：

3.1 后端：BookEvent 表

新建一张很简单的表，例如 book_events：

type BookEventKind =
  | 'created'
  | 'stage_changed'
  | 'status_changed'
  | 'moved'
  | 'tags_changed'
  | 'pinned'
  | 'unpinned'
  | 'visited';

interface BookEvent {
  id: string;
  bookId: string;
  kind: BookEventKind;
  createdAt: Date;
  actor: string;        // 先用固定 "system" 或当前用户名
  payload: Json;        // 存旧值/新值等细节
}


在关键操作时写入一条 event：

创建 Book → created

修改阶段 → stage_changed（payload 里带 from/to）

修改状态 → status_changed

打开 Book 页面 → 可选写一条 visited（视勾选框是否要展示）

3.2 前端：时间线展示组件

垂直列表：

左边是时间 + 图标；

右边是一句人话，比如：

2025-11-26 15:18 创建 Book

2025-12-01 09:12 阶段从 Seed 变更为 Growing

2025-12-10 18:20 状态从 Active 变更为 Archived

勾选「显示访问日志」时：

前端过滤：把 kind === 'visited' 的也一起展示；

取消勾选则不显示，仅保留生命周期事件。

4. 这个东西对 Wordloom 的意义

Wordloom 的定位，本质上是 “文字 + 审计 + 知识管理”，
时间线就属于“审计 / 追踪”这一块：

让你将来回头看时，可以知道：

这本书什么时候开始做；

哪些时间段是高强度调整成熟度；

被归档前发生过哪些关键操作。

对 demo 而言，这一块会显得非常“专业”：
不只是记内容，而是记“项目的演化过程”。

总结一句

时间线 = Book 的「人生大事记」。
创建、改阶段、改状态、移动、打标签这类“大动作”都记下来；
勾选开关时，再把「谁来翻过书」这样的访问痕迹也展现出来。

你现在看到的空状态文案

「暂无事件，完成首次操作后将显示历史记录」
就可以理解成：等你第一次修改阶段 / 状态 / 之类的操作，
这里就会开始长出一条条 “这本书正在长大” 的时间线。