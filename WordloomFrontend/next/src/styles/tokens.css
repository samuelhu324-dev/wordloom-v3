/* tokens.css
   Define design tokens (CSS variables) for colors used across the app.
   Edit values here to skin the whole app.
*/

:root {
  /* Core foreground/background */
  --foreground: #111111;        /* primary text */
  --foreground-2: #222222;      /* secondary text */

  /* Surfaces */
  --card: #ffffff;              /* cards, panels, sidebar background */
  --surface-muted: #f8f0f0;     /* subtle surface tint (example) */

  /* Accent / primary */
  --primary: #6b21a8;           /* primary brand color (tweak as needed) */
  --primary-fg: #ffffff;        /* text color on primary backgrounds */

  /* Small UI accents */
  --bm-color: #8b5cf6;          /* bookmark / accent dot */

  /* Borders / strong accents */
  --border-strong: #733f3f;

  /* Sidebar-specific tokens (default to card/border; overridden per-theme below) */
  --sidebar-bg: var(--card-bg);
  --sidebar-border: var(--border);
}
:root {
  /* 字体族映射（由 UserPreferenceProvider 写入 --font-family） */
  --font-serif: "Noto Serif CJK SC", "Noto Serif SC", "Source Han Serif SC", "Songti SC", "Times New Roman", serif;
  --font-sans: system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans CJK SC", "Noto Sans SC", "Source Han Sans SC", "Microsoft YaHei", "Helvetica Neue", Arial, sans-serif;

  /* 语义变量（主题会覆写这些） */
  --bg: #ffffff;
  --fg: #111827;
  --surface: #ffffff;
  --card-bg: #ffffff;
  --muted: #6b7280;
  --accent: #2563eb;
  --ring: rgba(37,99,235,0.35);
  --border: #e5e7eb;

  /* 用户偏好（由 Provider 写入） */
  --font-family: var(--font-serif);
  --font-size-base: 16px;
  --line-height: 1.7;
  --letter-spacing: 0em;
}

html, body {
  background: var(--bg);
  color: var(--fg);
}

[data-theme="light"] {
  --bg:#ffffff;
  --fg:#111827;
  --surface:#ffffff;
  --card-bg:#ffffff;
  --card: var(--card-bg);
  /* Light theme: make sidebar more subtle with lower opacity */
  --sidebar-bg: color-mix(in oklab, var(--card-bg) 97%, var(--accent) 3%);
  --sidebar-border: color-mix(in oklab, var(--border) 90%, var(--accent) 10%);
  --muted:#6b7280;
  --accent:#2563eb;
  --ring:rgba(37,99,235,0.35);
  --border:#e5e7eb;
  --accent-fg:#ffffff;
}

[data-theme="dark"] {
  --bg:#0b1020;
  --fg:#e5e7eb;
  --surface:#131a2e;
  --card-bg:#0f1527;
  --card: var(--card-bg);
  /* Dark theme: lighten sidebar slightly to separate from deep background */
  --sidebar-bg: color-mix(in oklab, var(--card-bg) 86%, #ffffff 14%);
  --sidebar-border: color-mix(in oklab, var(--border) 88%, #000000 12%);
  --muted:#9aa3b2;
  --accent:#60a5fa;
  --accent-fg:#ffffff;
  --ring:rgba(96,165,250,0.35);
  --border:#2a3350;
}

/* 三种彩色主题：淡蓝 / 蓝紫 / 酒红 */
[data-theme="sky"] {
  --bg:#f6f9ff;
  --fg:#0f172a;
  --surface:#ffffff;
  --card-bg:#ffffff;
  --card: var(--card-bg);
  --sidebar-bg: color-mix(in oklab, var(--card-bg) 94%, var(--accent) 6%);
  --sidebar-border: color-mix(in oklab, var(--border) 82%, var(--accent) 18%);
  --muted:#64748b;
  --accent:#5B8CFF;
  --accent-fg:#ffffff;
  --ring:rgba(91,140,255,0.35);
  --border:#dbeafe;
}

[data-theme="indigo"] {
  --bg:#f5f6ff;
  --fg:#0f172a;
  --surface:#ffffff;
  --card-bg:#ffffff;
  --card: var(--card-bg);
  --sidebar-bg: color-mix(in oklab, var(--card-bg) 94%, var(--accent) 6%);
  --sidebar-border: color-mix(in oklab, var(--border) 82%, var(--accent) 18%);
  --muted:#6366f1;
  --accent:#5E60CE;
  --accent-fg:#ffffff;
  --ring:rgba(94,96,206,0.35);
  --border:#e0e7ff;
}

[data-theme="maroon"] {
  --bg:#fff7f9;
  --fg:#1f0a0f;
  --surface:#ffffff;
  --card-bg:#ffffff;
  --card: var(--card-bg);
  /* Maroon: make sidebar a tad warmer and slightly tinted by accent */
  --sidebar-bg: color-mix(in oklab, var(--card-bg) 92%, var(--accent) 8%);
  --sidebar-border: color-mix(in oklab, var(--border) 80%, var(--accent) 20%);
  --muted:#8f6b75;
  --accent:#7B1E3A;
  --accent-fg:#ffffff;
  --ring:rgba(123,30,58,0.35);
  --border:#f6d9e1;
}

/* 组件可共用的设计 token */
.btn { border:1px solid var(--border); background:var(--surface); color:var(--fg); }
.card { background:var(--card-bg); border:1px solid var(--border); }
.muted { color:var(--muted); }
.ring  { box-shadow: 0 0 0 3px var(--ring); }
