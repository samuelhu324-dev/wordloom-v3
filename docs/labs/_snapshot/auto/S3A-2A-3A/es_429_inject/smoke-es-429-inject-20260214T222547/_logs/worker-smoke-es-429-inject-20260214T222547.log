D:\Project\wordloom-v3\backend\scripts\legacy\search_outbox_worker.py:52: DeprecationWarning: 'asyncio.WindowsSelectorEventLoopPolicy' is deprecated and slated for removal in Python 3.16
  asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
D:\Project\wordloom-v3\backend\scripts\legacy\search_outbox_worker.py:52: DeprecationWarning: 'asyncio.set_event_loop_policy' is deprecated and slated for removal in Python 3.16
  asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
[OK] Database: postgresql+psycopg://wordloom:wordloom@localhost:5435/wordloom_test
{"ts": "2026-02-14T14:25:48.195930+00:00", "level": "WARNING", "logger": "__main__", "message": "[LABS] ES 429 fault injection enabled: mode=every_n effective_ratio=1.000 ratio=0.000 every_n=1 ops=['upsert'] seed=1", "taskName": "Task-1"}
{"ts": "2026-02-14T14:25:51.836263+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 56acd97e-84dc-46a9-bccd-30e78be3eb22", "taskName": "Task-13", "trace_id": "35edc0faf3ccaed57c85e70d7a5c0b47", "span_id": "5828fae3e39cec63", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
{"ts": "2026-02-14T14:25:53.894080+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 56acd97e-84dc-46a9-bccd-30e78be3eb22", "taskName": "Task-22", "trace_id": "5584983f5213ad72b6ca013e6ab39442", "span_id": "d9829d058bb08718", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
{"ts": "2026-02-14T14:25:56.950629+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 56acd97e-84dc-46a9-bccd-30e78be3eb22", "taskName": "Task-31", "trace_id": "7dac893d57361911b41fbdd8f076db97", "span_id": "a27279bbe0c0294e", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
