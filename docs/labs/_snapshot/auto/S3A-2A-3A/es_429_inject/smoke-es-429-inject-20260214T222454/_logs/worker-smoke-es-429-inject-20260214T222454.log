D:\Project\wordloom-v3\backend\scripts\legacy\search_outbox_worker.py:52: DeprecationWarning: 'asyncio.WindowsSelectorEventLoopPolicy' is deprecated and slated for removal in Python 3.16
  asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
D:\Project\wordloom-v3\backend\scripts\legacy\search_outbox_worker.py:52: DeprecationWarning: 'asyncio.set_event_loop_policy' is deprecated and slated for removal in Python 3.16
  asyncio.set_event_loop_policy(asyncio.WindowsSelectorEventLoopPolicy())
[OK] Database: postgresql+psycopg://wordloom:wordloom@localhost:5435/wordloom_test
{"ts": "2026-02-14T14:24:55.961314+00:00", "level": "WARNING", "logger": "__main__", "message": "[LABS] ES 429 fault injection enabled: mode=every_n effective_ratio=1.000 ratio=0.000 every_n=1 ops=['upsert'] seed=1", "taskName": "Task-1"}
{"ts": "2026-02-14T14:24:58.924071+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 61f9b946-593b-48dd-8bc6-b94a924c3596", "taskName": "Task-14", "trace_id": "fba91092ad6271e508f6b1cdcd6caae9", "span_id": "4a1e9885d08bbc85", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
{"ts": "2026-02-14T14:25:00.991246+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 61f9b946-593b-48dd-8bc6-b94a924c3596", "taskName": "Task-21", "trace_id": "49719dccafc34f09dbe33ac6515d7d1c", "span_id": "5f415ebbf8dcf70e", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
{"ts": "2026-02-14T14:25:04.073138+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 61f9b946-593b-48dd-8bc6-b94a924c3596", "taskName": "Task-32", "trace_id": "82d61247497950ed9e3bb5a3e0ebce97", "span_id": "4c408876b26f12be", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
{"ts": "2026-02-14T14:25:08.185817+00:00", "level": "ERROR", "logger": "__main__", "message": "Failed to process outbox event 61f9b946-593b-48dd-8bc6-b94a924c3596", "taskName": "Task-45", "trace_id": "8c70be85782e0fa91be1e981fb5e523e", "span_id": "bffc7d856641fdc3", "exc_info": "Traceback (most recent call last):\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 917, in _process_one\n    _maybe_inject_es_429(\"upsert\")\n    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"D:\\Project\\wordloom-v3\\backend\\scripts\\legacy\\search_outbox_worker.py\", line 914, in _maybe_inject_es_429\n    raise httpx.HTTPStatusError(\"Injected 429 (fault injection)\", request=req, response=resp)\nhttpx.HTTPStatusError: Injected 429 (fault injection)"}
